<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daggerheart - –ò–≥—Ä–∞</title>
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="header">
            <h1>üó°Ô∏è Daggerheart</h1>
            <div class="user-info">
                <span id="username">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
        <main class="main-content">
            <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
            <div id="loading-screen" class="screen active">
                <div class="loading-spinner">‚ö°</div>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞ –º–∏—Ä–∞ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π...</p>
            </div>

            <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
            <div id="main-menu" class="screen">
                <div class="menu-buttons">
                    <button class="btn btn-primary" onclick="startNewGame()">
                        üé≤ –ù–æ–≤–∞—è –∏–≥—Ä–∞
                    </button>
                    <button class="btn btn-secondary" onclick="loadGame()">
                        üìú –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–≥—Ä—É
                    </button>
                    <button class="btn btn-secondary" onclick="showCharacter()">
                        üë§ –ü–µ—Ä—Å–æ–Ω–∞–∂
                    </button>
                    <button class="btn btn-secondary" onclick="showRules()">
                        üìñ –ü—Ä–∞–≤–∏–ª–∞
                    </button>
                </div>
            </div>

            <!-- –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ -->
            <div id="character-creation" class="screen">
                <h2>–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h2>
                <form id="character-form">
                    <div class="form-group">
                        <label for="character-name">–ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:</label>
                        <input type="text" id="character-name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="character-class">–ö–ª–∞—Å—Å:</label>
                        <select id="character-class" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å</option>
                            <option value="warrior">–í–æ–∏–Ω</option>
                            <option value="ranger">–†–µ–π–Ω–¥–∂–µ—Ä</option>
                            <option value="guardian">–°—Ç—Ä–∞–∂</option>
                            <option value="seraph">–°–µ—Ä–∞—Ñ–∏–º</option>
                            <option value="sorcerer">–ß–∞—Ä–æ–¥–µ–π</option>
                            <option value="wizard">–í–æ–ª—à–µ–±–Ω–∏–∫</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="character-ancestry">–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ:</label>
                        <select id="character-ancestry" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</option>
                            <option value="human">–ß–µ–ª–æ–≤–µ–∫</option>
                            <option value="elf">–≠–ª—å—Ñ</option>
                            <option value="dwarf">–î–≤–∞—Ä—Ñ</option>
                            <option value="halfling">–ü–æ–ª—É—Ä–æ—Å–ª–∏–∫</option>
                            <option value="orc">–û—Ä–∫</option>
                        </select>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="showMainMenu()">
                            –ù–∞–∑–∞–¥
                        </button>
                        <button type="submit" class="btn btn-primary">
                            –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
                        </button>
                    </div>
                </form>
            </div>

            <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
            <div id="game-screen" class="screen">
                <div class="game-interface">
                    <!-- –°—Ç–∞—Ç—É—Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ -->
                    <div class="character-status">
                        <div class="status-item">
                            <span class="status-label">Hope:</span>
                            <div class="progress-bar">
                                <div class="progress-fill hope" id="hope-bar"></div>
                            </div>
                            <span id="hope-value">5</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Fear:</span>
                            <div class="progress-bar">
                                <div class="progress-fill fear" id="fear-bar"></div>
                            </div>
                            <span id="fear-value">3</span>
                        </div>
                    </div>

                    <!-- –û–±–ª–∞—Å—Ç—å –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è -->
                    <div class="story-area">
                        <div id="story-text">
                            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä Daggerheart! –í–∞—à–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –≤–æ—Ç-–≤–æ—Ç –Ω–∞—á–Ω–µ—Ç—Å—è...</p>
                        </div>
                    </div>

                    <!-- –ò–≥—Ä–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                    <div class="game-actions">
                        <button class="btn btn-action" onclick="rollDice()">
                            üé≤ –ë—Ä–æ—Å–∏—Ç—å –∫–æ—Å—Ç–∏
                        </button>
                        <button class="btn btn-action" onclick="useAbility()">
                            ‚ö° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
                        </button>
                        <button class="btn btn-action" onclick="interact()">
                            üí¨ –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å
                        </button>
                    </div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –æ—à–∏–±–∫–∏ -->
            <div id="error-screen" class="screen">
                <h2>‚ùå –û—à–∏–±–∫–∞</h2>
                <p id="error-message">–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫...</p>
                <button class="btn btn-primary" onclick="location.reload()">
                    üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å
                </button>
            </div>
        </main>

        <!-- –§—É—Ç–µ—Ä -->
        <footer class="footer">
            <p>Powered by DeepSeek AI</p>
        </footer>
    </div>

    <script>
        // –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ Telegram WebApp –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è
        if (!window.Telegram) {
            console.error('Telegram WebApp –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');
            document.getElementById('error-screen').classList.add('active');
            document.getElementById('loading-screen').classList.remove('active');
            document.getElementById('error-message').textContent = 'Telegram WebApp –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω';
        }
    </script>
    <script src="./js/telegram.js"></script>
    <script src="./js/app.js"></script>
</body>
</html>